{"id":"jbtv-1","title":"Project scaffolding and infrastructure","description":"Set up the foundational project structure, git config, and shared infrastructure that everything else depends on. This is the first thing that must be done before any real development begins.","status":"done","priority":0,"issue_type":"task","assignee":"Joseph Bath","owner":"joseph.bath@live.com","created_at":"2026-02-17T15:22:23.859326-08:00","created_by":"Joseph Bath","updated_at":"2026-02-17T15:38:11.382856-08:00"}
{"id":"jbtv-10","title":"Build Google OAuth2 token manager","description":"Create server/utils/google-auth.js. Implements the OAuth2 flow for Google APIs (shared by Calendar and Photos services). Uses googleapis npm package. Loads client credentials from the file specified in config.google.credentials (a downloaded OAuth2 client JSON from Google Cloud Console). First run: prints an authorization URL to the terminal, user visits it, pastes back the auth code, and tokens are saved to server/google-tokens.json. Subsequent runs: loads saved tokens, auto-refreshes if expired. Exports a function getAuthClient() that returns an authenticated OAuth2 client ready for API calls. Include clear console instructions for the first-time setup flow.","status":"done","priority":0,"issue_type":"task","owner":"joseph.bath@live.com","created_at":"2026-02-17T15:23:04.209253-08:00","created_by":"Joseph Bath","updated_at":"2026-02-17T15:38:11.96995-08:00","dependencies":[{"issue_id":"jbtv-10","depends_on_id":"jbtv-3","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"jbtv-11","title":"Build calendar service","description":"Create server/services/calendar.js. Uses Google Calendar API via the shared OAuth2 client from google-auth.js. Fetches today's events from the configured calendarId using events.list with timeMin/timeMax set to start/end of today. Returns array of { title, time (formatted 12hr), endTime, duration (human readable like '30m' or '1h'), location, isNext (true for the soonest upcoming event), minutesUntil }. Sort by start time. Cap at 8 events. Cache for 2 minutes. Handle all-day events separately (show as 'All day' instead of a time).","status":"done","priority":1,"issue_type":"task","owner":"joseph.bath@live.com","created_at":"2026-02-17T15:23:27.503127-08:00","created_by":"Joseph Bath","updated_at":"2026-02-17T15:38:12.039851-08:00","dependencies":[{"issue_id":"jbtv-11","depends_on_id":"jbtv-10","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"jbtv-11","depends_on_id":"jbtv-5","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"jbtv-12","title":"Build countdown service","description":"Create server/services/countdowns.js. Pure local logic, reads from config.countdowns array. Each entry has { label, date (ISO format) }. Calculates daysLeft as difference between target date and today. Returns sorted by nearest first. If a date has passed, either omit it or show 'X days ago'. Include a 'progress' field (0-1) if there's a sensible way to calculate it (e.g., if the countdown was created with a startDate, show how far along you are). For v1, just return { label, date, daysLeft, isPast }.","status":"done","priority":2,"issue_type":"task","owner":"joseph.bath@live.com","created_at":"2026-02-17T15:23:27.573811-08:00","created_by":"Joseph Bath","updated_at":"2026-02-17T15:38:12.10852-08:00","dependencies":[{"issue_id":"jbtv-12","depends_on_id":"jbtv-4","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"jbtv-13","title":"Build quotes service","description":"Create server/services/quotes.js. Reads from server/quotes.json — a curated local file of motivational/stoic quotes. Format: array of { text, author }. Service selects one quote per day deterministically (hash the date string, mod by array length, so the same quote shows all day but changes at midnight). Also create the initial quotes.json with 50-100 curated quotes — mix of stoicism (Marcus Aurelius, Seneca, Epictetus), modern motivation (Naval Ravikant, James Clear, Ryan Holiday), classic wisdom (MLK, Teddy Roosevelt, Einstein), and tech/startup (Steve Jobs, Paul Graham). No caching needed since it's local.","status":"done","priority":2,"issue_type":"task","owner":"joseph.bath@live.com","created_at":"2026-02-17T15:23:27.642037-08:00","created_by":"Joseph Bath","updated_at":"2026-02-17T15:38:12.180011-08:00","dependencies":[{"issue_id":"jbtv-13","depends_on_id":"jbtv-4","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"jbtv-14","title":"Build news service","description":"Create server/services/news.js. Uses rss-parser npm to fetch and parse RSS feeds from config.news.feeds array. Fetches all feeds in parallel, merges items, sorts by pubDate (newest first), deduplicates by title similarity, caps at config.news.maxItems (default 5). Returns array of { title, source (feed name/domain), url, publishedAt (relative like '2h ago') }. Cache for 15 minutes. Strip HTML from titles. Handle feed fetch failures gracefully (skip failed feeds, use whatever succeeded).","status":"done","priority":1,"issue_type":"task","owner":"joseph.bath@live.com","created_at":"2026-02-17T15:23:27.71296-08:00","created_by":"Joseph Bath","updated_at":"2026-02-17T15:38:12.249658-08:00","dependencies":[{"issue_id":"jbtv-14","depends_on_id":"jbtv-3","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"jbtv-14","depends_on_id":"jbtv-5","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"jbtv-15","title":"Build Spotify OAuth2 and service","description":"Create server/services/spotify.js. Implements Spotify Authorization Code flow. First run: starts a temporary local HTTP server on port 8889, prints a URL for the user to authorize, handles the callback, exchanges code for tokens, saves tokens to server/spotify-tokens.json. Subsequent runs: loads tokens, auto-refreshes when expired. Service functions: (1) getNowPlaying() — calls /v1/me/player/currently-playing, returns { name, artist, albumName, albumArt (URL to 300px image), isPlaying, progressMs, durationMs } or null if nothing playing. (2) getRecentTracks() — calls /v1/me/player/recently-played?limit=5, returns array of { name, artist, albumArt, playedAt }. Cache now-playing for 30 seconds, recent tracks for 2 minutes.","status":"done","priority":1,"issue_type":"task","owner":"joseph.bath@live.com","created_at":"2026-02-17T15:23:27.78295-08:00","created_by":"Joseph Bath","updated_at":"2026-02-17T15:38:12.324619-08:00","dependencies":[{"issue_id":"jbtv-15","depends_on_id":"jbtv-3","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"jbtv-15","depends_on_id":"jbtv-5","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"jbtv-16","title":"Build sports scores service","description":"Create server/services/sports.js. Uses ESPN's unofficial public API (site.api.espn.com) which requires no auth. For each team in config.sports.teams, fetch: (1) Last completed game — opponent, score, W/L result, date. (2) Next upcoming game — opponent, date, time, broadcast network. Endpoints: /apis/site/v2/sports/{sport}/{league}/teams/{team}/schedule. Map league names: nba, nfl, mlb, nhl, soccer to ESPN sport/league path segments. Return array of { team, league, logo (ESPN CDN URL), lastGame: { opponent, score, result, date }, nextGame: { opponent, date, time, broadcast } }. Cache for 5 minutes. Handle offseason gracefully (no next game = null).","status":"done","priority":1,"issue_type":"task","owner":"joseph.bath@live.com","created_at":"2026-02-17T15:23:46.300255-08:00","created_by":"Joseph Bath","updated_at":"2026-02-17T15:38:12.398048-08:00","dependencies":[{"issue_id":"jbtv-16","depends_on_id":"jbtv-5","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"jbtv-16","depends_on_id":"jbtv-4","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"jbtv-17","title":"Build stocks and crypto service","description":"Create server/services/stocks.js. Two data sources: (1) Stocks — use yahoo-finance2 npm package. Call quote() for each symbol in config.tickers.stocks. Extract: symbol, regularMarketPrice, regularMarketChange, regularMarketChangePercent, shortName. (2) Crypto — use CoinGecko free API (/api/v3/simple/price?ids=X&vs_currencies=usd&include_24hr_change=true). Extract: symbol (uppercased), price, 24h change %. Return unified array of { symbol, price, change, changePercent, type ('stock'|'crypto') }. Cache for 5 minutes. Handle market-closed gracefully for stocks (still show last close price). Rate limit: CoinGecko allows 10-30 req/min on free tier.","status":"done","priority":1,"issue_type":"task","owner":"joseph.bath@live.com","created_at":"2026-02-17T15:23:46.37296-08:00","created_by":"Joseph Bath","updated_at":"2026-02-17T15:38:12.467506-08:00","dependencies":[{"issue_id":"jbtv-17","depends_on_id":"jbtv-3","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"jbtv-17","depends_on_id":"jbtv-5","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"jbtv-18","title":"Build Google Photos service","description":"Create server/services/photos.js. Uses Google Photos Library API via the shared OAuth2 client from google-auth.js. On startup (or first request), search for the album matching config.photos.albumName using albums.list. Cache the album's media items list (URLs + dimensions). Return a single photo URL for the Roku to display, rotating through the list. The service tracks currentIndex internally and advances it each time the configured rotateIntervalSeconds elapses. Return { current: 'https://...=w3840-h2160' (sized for 4K), albumName, totalPhotos, currentIndex }. Google Photos base URLs expire after ~60 min, so refresh the media items list every 30 minutes. Append '=w3840-h2160' to baseUrl for 4K sizing.","status":"done","priority":1,"issue_type":"task","owner":"joseph.bath@live.com","created_at":"2026-02-17T15:23:46.445513-08:00","created_by":"Joseph Bath","updated_at":"2026-02-17T15:38:12.548761-08:00","dependencies":[{"issue_id":"jbtv-18","depends_on_id":"jbtv-10","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"jbtv-18","depends_on_id":"jbtv-5","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"jbtv-19","title":"Create Roku channel manifest and entry point","description":"Create roku/manifest — the Roku channel descriptor. Required fields: title=JBTV, major_version=1, minor_version=0, build_version=1, mm_icon_focus_hd/sd (channel icons), splash_screen_hd (loading image), ui_resolutions=fhd,uhd (support both 1080p and 4K), bs_libs_required=roku_ads_lib (even if not used, some Roku firmware expects it). Create roku/source/main.brs — the BrightScript entry point. This function creates the screen, sets up the message port, creates the scene (MainScene), shows the screen, and enters the main event loop (waiting for messages until isScreenClosed). Standard Roku boilerplate but must be correct or the channel won't launch.","status":"done","priority":0,"issue_type":"task","owner":"joseph.bath@live.com","created_at":"2026-02-17T15:24:12.615176-08:00","created_by":"Joseph Bath","updated_at":"2026-02-17T15:38:12.617893-08:00","dependencies":[{"issue_id":"jbtv-19","depends_on_id":"jbtv-2","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"jbtv-2","title":"Initialize git repo with .gitignore","description":"Create a comprehensive .gitignore that excludes: node_modules/, config.json (has API keys), google-credentials.json, spotify-tokens.json, *.zip (packaged channels), .env, .DS_Store, roku/out/. Also create .gitkeep files in empty directories. This MUST be done before any code is committed to prevent secrets from entering git history.","status":"done","priority":0,"issue_type":"task","assignee":"Joseph Bath","owner":"joseph.bath@live.com","created_at":"2026-02-17T15:22:46.655099-08:00","created_by":"Joseph Bath","updated_at":"2026-02-17T15:38:11.461355-08:00"}
{"id":"jbtv-20","title":"Create MainScene root component","description":"Create roku/components/MainScene.xml and MainScene.brs. The XML defines the root Scene node with: (1) A full-screen Poster for the background gradient image (3840x2160). (2) A Group that acts as the card container/grid. (3) All 10 card components instantiated and positioned. The BRS file handles: (1) init() — set up the layout, calculate card positions for a 4K grid, start the data fetcher task. (2) onDataReceived() — callback when the DataFetcher task returns data, parses the JSON and distributes data to each card via their interface fields. (3) onKeyEvent() — handle remote key presses for any navigation. (4) Background image switching based on clock.period from the API response.","status":"done","priority":0,"issue_type":"task","owner":"joseph.bath@live.com","created_at":"2026-02-17T15:24:12.696345-08:00","created_by":"Joseph Bath","updated_at":"2026-02-17T15:38:12.693161-08:00","dependencies":[{"issue_id":"jbtv-20","depends_on_id":"jbtv-19","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"jbtv-20","depends_on_id":"jbtv-22","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"jbtv-20","depends_on_id":"jbtv-21","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"jbtv-20","depends_on_id":"jbtv-33","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"jbtv-21","title":"Create DataFetcher Task node","description":"Create roku/components/shared/DataFetcher.xml and DataFetcher.brs. This is a SceneGraph Task node that runs HTTP requests on a background thread (critical — network calls on the render thread freeze the UI). Interface fields: serverUrl (string, input), responseData (assocarray, output), pollInterval (integer, seconds, default 30). The task: (1) Creates roUrlTransfer pointing to serverUrl + '/api/dashboard'. (2) Performs GET request. (3) Parses JSON response via ParseJson(). (4) Sets responseData field (triggers observer on MainScene). (5) Sleeps for pollInterval seconds, then repeats. Must handle: connection failures (retry after 5s), malformed JSON (skip update), server unreachable on first boot (show loading state). Include a configurable serverUrl field so the Roku can be pointed at the laptop's IP.","status":"done","priority":0,"issue_type":"task","owner":"joseph.bath@live.com","created_at":"2026-02-17T15:24:12.77551-08:00","created_by":"Joseph Bath","updated_at":"2026-02-17T15:38:12.763556-08:00","dependencies":[{"issue_id":"jbtv-21","depends_on_id":"jbtv-19","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"jbtv-22","title":"Create GlassCard reusable component","description":"Create roku/components/shared/GlassCard.xml and GlassCard.brs. This is the reusable glassmorphism card wrapper used by every module card. XML structure: outer Group (for positioning), inner Rectangle (the glass panel — white color, opacity 0.12, cornerRadius if supported or simulated), a thin border Rectangle (white, opacity 0.2, 1px inset), and a content Group where child components go. Interface fields: cardWidth (int), cardHeight (int), cardTitle (string, optional header text). The BRS init() sizes the rectangles based on cardWidth/cardHeight. If SceneGraph supports it, add a subtle drop shadow via a slightly larger, more transparent rectangle behind. The goal is: semi-transparent white card on top of the gradient background, giving the frosted glass illusion.","status":"done","priority":1,"issue_type":"task","owner":"joseph.bath@live.com","created_at":"2026-02-17T15:24:12.852683-08:00","created_by":"Joseph Bath","updated_at":"2026-02-17T15:38:12.838671-08:00","dependencies":[{"issue_id":"jbtv-22","depends_on_id":"jbtv-19","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"jbtv-23","title":"Build ClockCard component","description":"Create roku/components/cards/ClockCard.xml and ClockCard.brs. Wraps GlassCard. Displays: (1) Large greeting text ('Good morning, Joseph') — Label, font size ~48pt for 4K, white, bold. (2) Current time in large format — Label, font size ~120pt, white, thin/light weight. This should update every second using a local roTimeSpan or Timer node (don't rely on server polls for the clock). (3) Date below the time — Label, font size ~36pt, light gray. (4) The card gets 'greeting' and 'period' from the API but runs its own local clock for real-time updates. Interface fields: greeting (string), period (string). The BRS creates a Timer node that fires every 1 second to update the time/date labels locally.","status":"done","priority":1,"issue_type":"task","owner":"joseph.bath@live.com","created_at":"2026-02-17T15:24:42.833949-08:00","created_by":"Joseph Bath","updated_at":"2026-02-17T15:38:12.907784-08:00","dependencies":[{"issue_id":"jbtv-23","depends_on_id":"jbtv-22","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"jbtv-24","title":"Build WeatherCard component","description":"Create roku/components/cards/WeatherCard.xml and WeatherCard.brs. Wraps GlassCard. Displays: (1) Current temp large (e.g., '72 degrees') with feels-like smaller below. (2) Weather icon — Poster node loading from a URL or local image mapped from the icon code. (3) Description text ('Partly cloudy'). (4) Humidity and wind as small secondary text. (5) Sunrise/sunset times with small sun icons. (6) 5-day forecast row at the bottom — each day shows: day name abbreviation, icon, high/low temps. Use a LayoutGroup (horizontal) for the forecast row. Interface field: weatherData (assocarray). Card should be one of the larger cards in the grid (~900x600 at 4K).","status":"done","priority":1,"issue_type":"task","owner":"joseph.bath@live.com","created_at":"2026-02-17T15:24:42.911888-08:00","created_by":"Joseph Bath","updated_at":"2026-02-17T15:38:12.977849-08:00","dependencies":[{"issue_id":"jbtv-24","depends_on_id":"jbtv-22","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"jbtv-25","title":"Build CalendarCard component","description":"Create roku/components/cards/CalendarCard.xml and CalendarCard.brs. Wraps GlassCard. Displays: (1) Card title 'Today's Schedule'. (2) List of events, each showing: colored dot/line on left (accent color for next event, gray for others), time in bold, title, duration in parentheses. (3) The 'next up' event highlighted with accent color and a 'in X min' badge. (4) If no events, show 'No meetings today' with a relaxed icon. Use a LayoutGroup (vertical) for the event list. Interface field: calendarData (assocarray). Handle overflow: if >6 events visible, the card should either scroll slowly or show '+ N more'. Card size ~800x500 at 4K.","status":"done","priority":1,"issue_type":"task","owner":"joseph.bath@live.com","created_at":"2026-02-17T15:24:42.988714-08:00","created_by":"Joseph Bath","updated_at":"2026-02-17T15:38:13.062801-08:00","dependencies":[{"issue_id":"jbtv-25","depends_on_id":"jbtv-22","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"jbtv-26","title":"Build CountdownCard component","description":"Create roku/components/cards/CountdownCard.xml and CountdownCard.brs. Wraps GlassCard. Displays a compact list of countdowns. Each countdown shows: (1) Large number of days left (bold, accent color). (2) Label text ('Trip to Japan'). (3) Target date in small gray text. (4) If isPast is true, show in dimmed/gray style. Use a LayoutGroup (vertical). Interface field: countdownData (assocarray — array of countdown objects). Compact card — maybe ~600x400 at 4K, stacks 3-5 countdowns vertically.","status":"done","priority":1,"issue_type":"task","owner":"joseph.bath@live.com","created_at":"2026-02-17T15:24:43.073005-08:00","created_by":"Joseph Bath","updated_at":"2026-02-17T15:38:13.137497-08:00","dependencies":[{"issue_id":"jbtv-26","depends_on_id":"jbtv-22","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"jbtv-27","title":"Build QuoteCard component","description":"Create roku/components/cards/QuoteCard.xml and QuoteCard.brs. Wraps GlassCard. Displays: (1) Opening quotation mark in large decorative font (or a large accent-colored quote glyph). (2) Quote text — Label with wrap=true, italic style if available (SceneGraph supports font files so we could include an italic variant), white, ~32pt. (3) Author name right-aligned below, preceded by an em-dash, light gray, ~24pt. This should be an elegant, minimal card. Interface fields: quoteText (string), quoteAuthor (string). Card size ~700x300 at 4K. The quote text label must handle wrapping for longer quotes.","status":"done","priority":1,"issue_type":"task","owner":"joseph.bath@live.com","created_at":"2026-02-17T15:24:43.150892-08:00","created_by":"Joseph Bath","updated_at":"2026-02-17T15:38:13.21363-08:00","dependencies":[{"issue_id":"jbtv-27","depends_on_id":"jbtv-22","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"jbtv-28","title":"Build NewsCard component","description":"Create roku/components/cards/NewsCard.xml and NewsCard.brs. Wraps GlassCard. Displays top headlines with auto-rotation. Two modes: (1) Static list — show 3-5 headlines stacked vertically, each with source name in accent color and title in white. (2) Rotating — cycle through headlines one at a time with a fade transition, showing one large headline + source at a time. Use a Timer node for rotation (every 8 seconds). Interface field: newsData (assocarray — array of news objects). The rotating mode is more TV-friendly (readable from across the room). Card size ~800x350 at 4K.","status":"done","priority":1,"issue_type":"task","owner":"joseph.bath@live.com","created_at":"2026-02-17T15:24:43.229265-08:00","created_by":"Joseph Bath","updated_at":"2026-02-17T15:38:13.281066-08:00","dependencies":[{"issue_id":"jbtv-28","depends_on_id":"jbtv-22","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"jbtv-29","title":"Build SpotifyCard component","description":"Create roku/components/cards/SpotifyCard.xml and SpotifyCard.brs. Wraps GlassCard. Two states: (1) Now Playing — shows album art (Poster, ~300x300), track name (large, white, bold), artist name (medium, light gray), a thin progress bar (Rectangle showing progressMs/durationMs ratio, accent colored). (2) No Active Playback — shows 'Recently Played' header, then a list of 3-5 recent tracks: small album art thumbnail (80x80), track name, artist name in a horizontal LayoutGroup per row. The album art Poster loads from the URL provided by the API — Roku handles image caching automatically. Interface field: spotifyData (assocarray). Card size ~800x500 at 4K.","status":"done","priority":1,"issue_type":"task","owner":"joseph.bath@live.com","created_at":"2026-02-17T15:25:05.461294-08:00","created_by":"Joseph Bath","updated_at":"2026-02-17T15:38:13.346937-08:00","dependencies":[{"issue_id":"jbtv-29","depends_on_id":"jbtv-22","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"jbtv-3","title":"Create server package.json and install dependencies","description":"Initialize server/package.json with type:module (ES modules). Install dependencies: express, rss-parser, yahoo-finance2, googleapis, node-fetch. Dev deps: nodemon. Set up scripts: start (node index.js), dev (nodemon index.js). Pin dependency versions for reproducibility.","status":"done","priority":0,"issue_type":"task","assignee":"Joseph Bath","owner":"joseph.bath@live.com","created_at":"2026-02-17T15:22:46.740285-08:00","created_by":"Joseph Bath","updated_at":"2026-02-17T15:38:11.532803-08:00"}
{"id":"jbtv-30","title":"Build SportsCard component","description":"Create roku/components/cards/SportsCard.xml and SportsCard.brs. Wraps GlassCard. Displays a compact scoreboard for each configured team. Each team row: (1) Team logo (Poster, small ~60x60, loaded from ESPN CDN URL). (2) Team name. (3) Last game: 'W 112-108 vs Celtics' — result color-coded (green W, red L). (4) Next game: 'vs Warriors, Feb 20 7:30 PM'. If no last game (e.g., offseason), show 'Season starts: {date}'. If no next game, show 'Season ended'. Use a LayoutGroup (vertical) to stack teams. Interface field: sportsData (assocarray — array of team objects). Card size ~700x400 at 4K.","status":"done","priority":1,"issue_type":"task","owner":"joseph.bath@live.com","created_at":"2026-02-17T15:25:05.549975-08:00","created_by":"Joseph Bath","updated_at":"2026-02-17T15:38:13.414869-08:00","dependencies":[{"issue_id":"jbtv-30","depends_on_id":"jbtv-22","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"jbtv-31","title":"Build TickerCard component","description":"Create roku/components/cards/TickerCard.xml and TickerCard.brs. Wraps GlassCard. Displays stock and crypto tickers. Two layout options (implement scrolling): (1) Horizontal scrolling ticker strip — tickers scroll left like a stock ticker on cable news. Each ticker shows: symbol (bold), price, change with arrow (green up / red down). Use a ScrollingLabel or animate a Group's translation.x with a Timer. (2) Fallback grid — if scrolling is too complex, show a 2-column grid of ticker cards: symbol, price, change%, color-coded. The scrolling ticker is more TV-native and visually dynamic. Interface field: tickerData (assocarray — array of ticker objects). Card could be a thin horizontal bar spanning the bottom or a standard card.","status":"done","priority":1,"issue_type":"task","owner":"joseph.bath@live.com","created_at":"2026-02-17T15:25:05.628272-08:00","created_by":"Joseph Bath","updated_at":"2026-02-17T15:38:13.485246-08:00","dependencies":[{"issue_id":"jbtv-31","depends_on_id":"jbtv-22","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"jbtv-32","title":"Build PhotoCard component","description":"Create roku/components/cards/PhotoCard.xml and PhotoCard.brs. Two integration modes: (1) Background mode — the photo is displayed as the MainScene background Poster instead of the gradient, with a dark overlay (Rectangle, black, opacity 0.5) to keep cards readable. MainScene switches between gradient backgrounds and photo backgrounds. (2) Card mode — a dedicated card that shows the current photo in a Poster with rounded corners (clipped via a clipping rectangle), album name as small overlay text. Interface field: photoData (assocarray with 'current' URL, 'albumName'). In background mode, the photo fades in/out when changing (animate Poster opacity). Prefer background mode for the wow factor — your own photos behind the glass cards.","status":"done","priority":2,"issue_type":"task","owner":"joseph.bath@live.com","created_at":"2026-02-17T15:25:05.704791-08:00","created_by":"Joseph Bath","updated_at":"2026-02-17T15:38:13.563908-08:00","dependencies":[{"issue_id":"jbtv-32","depends_on_id":"jbtv-22","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"jbtv-33","title":"Create 4K gradient background images","description":"Generate four 3840x2160 PNG gradient background images for the time-of-day backgrounds. These need to be pre-rendered and placed in roku/images/. (1) bg_morning.png — warm sunrise: deep purple (#1a0533) bottom-left to coral (#ff6b6b) center to golden (#ffd93d) top-right. (2) bg_afternoon.png — bright sky: deep blue (#0c3483) bottom to cyan (#6b9dfc) to light blue (#a8d8ea) top. (3) bg_evening.png — sunset: deep purple (#2d1b69) bottom to magenta (#c850c0) center to burnt orange (#ff6b35) top. (4) bg_night.png — deep dark: near-black navy (#0a0a2e) to deep purple (#1a1a4e) to dark blue (#0d1b2a). Gradients should be smooth, non-banded, visually rich. Can generate via a script (node-canvas, sharp, or ImageMagick) or include instructions for creating them in Figma/Photoshop. Also consider: if Google Photos background mode is active, these become fallbacks.","status":"done","priority":1,"issue_type":"task","assignee":"Joseph Bath","owner":"joseph.bath@live.com","created_at":"2026-02-17T15:25:36.318127-08:00","created_by":"Joseph Bath","updated_at":"2026-02-17T15:38:13.638176-08:00"}
{"id":"jbtv-34","title":"Create channel branding assets","description":"Create the Roku channel branding images for roku/images/. (1) channel_logo_hd.png — 540x405 PNG, the HD channel icon shown in the Roku home screen. Design: 'JBTV' text on a dark gradient background, clean modern font, accent teal color. (2) channel_logo_sd.png — 214x144 PNG, SD version of the same icon. (3) splash_hd.png — 1920x1080 PNG (or 3840x2160 for 4K), the loading splash screen shown while the channel boots. Design: centered 'JBTV' logo with a subtle gradient background matching the glassmorphism theme, maybe a thin loading bar animation placeholder. These can be created with ImageMagick commands, a design tool, or programmatically.","status":"done","priority":2,"issue_type":"task","owner":"joseph.bath@live.com","created_at":"2026-02-17T15:25:36.404419-08:00","created_by":"Joseph Bath","updated_at":"2026-02-17T15:38:13.711928-08:00","dependencies":[{"issue_id":"jbtv-34","depends_on_id":"jbtv-19","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"jbtv-35","title":"Design and implement 4K dashboard grid layout","description":"This is the critical layout ticket. Design the card grid for 3840x2160 resolution. The layout must: (1) Feel balanced and not cramped — generous margins and padding. (2) Prioritize the most-glanced-at info (clock, weather) with larger cards. (3) Be readable from 6-10 feet away (TV viewing distance). Proposed layout (approximate):\n\nTop row (y: ~80):\n- ClockCard: top-left, wide (1800x500) — greeting + big clock + date\n- WeatherCard: top-right (1800x500) — current + forecast\n\nMiddle row (y: ~640):\n- CalendarCard: left (1200x700) — today's events\n- CountdownCard: center (1000x700) — upcoming dates\n- QuoteCard: right (1400x340) stacked with\n- NewsCard: right below quote (1400x340)\n\nBottom row (y: ~1400):\n- SpotifyCard: left (1200x500) — now playing / recent\n- SportsCard: center (1200x500) — team scores\n- TickerCard: spanning bottom (3600x200) as a scrolling strip, or (1200x500) as a card\n\nPhotoCard: not in the grid — serves as background overlay.\n\nMargins: 60px from screen edges, 40px between cards. All positions in MainScene.brs init(). This ticket defines the exact x/y/width/height for every card and documents the layout constants. Test with placeholder rectangles before real cards are ready.","status":"done","priority":0,"issue_type":"task","owner":"joseph.bath@live.com","created_at":"2026-02-17T15:25:36.486522-08:00","created_by":"Joseph Bath","updated_at":"2026-02-17T15:38:13.782332-08:00","dependencies":[{"issue_id":"jbtv-35","depends_on_id":"jbtv-23","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"jbtv-35","depends_on_id":"jbtv-24","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"jbtv-35","depends_on_id":"jbtv-25","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"jbtv-35","depends_on_id":"jbtv-26","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"jbtv-35","depends_on_id":"jbtv-27","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"jbtv-35","depends_on_id":"jbtv-28","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"jbtv-35","depends_on_id":"jbtv-29","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"jbtv-35","depends_on_id":"jbtv-30","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"jbtv-35","depends_on_id":"jbtv-31","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"jbtv-35","depends_on_id":"jbtv-32","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"jbtv-36","title":"Implement remote key navigation and focus management","description":"Implement Roku remote key handling in MainScene.brs onKeyEvent(). Since this is primarily a passive display dashboard, navigation should be minimal. Implement: (1) OK button — cycle the news card to next headline manually. (2) Left/Right — not needed for v1 (single page). (3) Up/Down — shift focus between card rows (visual highlight with slightly brighter border on the focused card's GlassCard). (4) Back button — handled automatically by Roku (exits channel). (5) Star/Options button — toggle between gradient background and Google Photos background mode. Focus is mostly cosmetic since this is a display-only app — the focus indicator just subtly highlights which card is 'selected'. No interactive elements beyond news cycling and background toggle.","status":"done","priority":2,"issue_type":"task","owner":"joseph.bath@live.com","created_at":"2026-02-17T15:25:36.569545-08:00","created_by":"Joseph Bath","updated_at":"2026-02-17T15:38:24.157395-08:00","dependencies":[{"issue_id":"jbtv-36","depends_on_id":"jbtv-35","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"jbtv-37","title":"Build packaging and sideloading scripts","description":"Create tools/package.sh and tools/deploy.sh. (1) package.sh — zips the roku/ directory into jbtv.zip (excluding .DS_Store, *.bak, etc.). The zip must have manifest at the root level (not inside a roku/ subdirectory). Verify the zip structure is correct (Roku rejects malformed zips). Output to tools/jbtv.zip. (2) deploy.sh — takes two args: ROKU_IP and DEV_PASSWORD. Uses curl to POST the zip to http://ROKU_IP/plugin_install with multipart form data (mysubmit=Install, archive=@jbtv.zip). Uses HTTP digest auth with user 'rokudev' and the provided password. Prints success/failure. Add a 'make deploy' convenience target or just document the commands.","status":"done","priority":1,"issue_type":"task","owner":"joseph.bath@live.com","created_at":"2026-02-17T15:26:06.321143-08:00","created_by":"Joseph Bath","updated_at":"2026-02-17T15:38:13.853109-08:00","dependencies":[{"issue_id":"jbtv-37","depends_on_id":"jbtv-19","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"jbtv-37","depends_on_id":"jbtv-34","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"jbtv-38","title":"Add loading and error states to all cards","description":"Every card component needs to handle three states: (1) Loading — shown before the first API response arrives. Display a subtle 'Loading...' text or a pulsing opacity animation on the GlassCard. (2) Normal — the main content display. (3) Error — shown if the server returned null/error for that module. Display a friendly message like 'Weather unavailable' with a retry hint. Each card's BRS should check if its data field is invalid/empty and switch between states accordingly. The ClockCard is special — it should never show loading since it uses a local timer. This prevents blank cards and makes the channel feel polished even when the backend is starting up or a service is down.","status":"done","priority":2,"issue_type":"task","owner":"joseph.bath@live.com","created_at":"2026-02-17T15:26:06.404196-08:00","created_by":"Joseph Bath","updated_at":"2026-02-17T15:38:24.023546-08:00","dependencies":[{"issue_id":"jbtv-38","depends_on_id":"jbtv-35","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"jbtv-39","title":"Implement background image crossfade transitions","description":"In MainScene.brs, implement smooth crossfade transitions when the background changes (either time-of-day gradient switches or Google Photos rotation). Use two stacked Poster nodes: the current background at full opacity, and the next background fading in on top. Animate the top Poster's opacity from 0 to 1 over ~2 seconds using a SceneGraph Animation node with FloatFieldInterpolator. When the animation completes, swap the bottom Poster's URI to match the top, reset top opacity to 0. Trigger: when the API response's clock.period changes (gradient switch), or on the photo rotation interval. This prevents jarring instant cuts between backgrounds.","status":"done","priority":2,"issue_type":"task","owner":"joseph.bath@live.com","created_at":"2026-02-17T15:26:06.485527-08:00","created_by":"Joseph Bath","updated_at":"2026-02-17T15:38:24.091729-08:00","dependencies":[{"issue_id":"jbtv-39","depends_on_id":"jbtv-20","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"jbtv-39","depends_on_id":"jbtv-33","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"jbtv-4","title":"Create config.json template and config loader","description":"Create server/config.example.json with all fields documented and placeholder values. Create server/utils/config.js that loads config.json, validates required fields exist, and provides sensible defaults. The loader should throw clear errors if critical config is missing (e.g., 'Missing weather.apiKey - get one at openweathermap.org'). Config fields: user.name, weather (apiKey, lat, lon, units), google (calendarId, credentials path), spotify (clientId, clientSecret), news (feeds array, maxItems), countdowns array, sports.teams array, tickers (stocks array, crypto array), photos (albumName, rotateIntervalSeconds), server (port, backendUrl).","status":"done","priority":0,"issue_type":"task","assignee":"Joseph Bath","owner":"joseph.bath@live.com","created_at":"2026-02-17T15:22:46.818598-08:00","created_by":"Joseph Bath","updated_at":"2026-02-17T15:38:11.605015-08:00"}
{"id":"jbtv-40","title":"Add server auto-discovery or configuration screen","description":"Currently the Roku channel needs to know the backend server's IP address. Options: (1) Hardcode in BrightScript (simplest, requires repackaging if IP changes). (2) Use SSDP/UPnP discovery — the server broadcasts its presence, the Roku discovers it automatically. (3) A simple 'settings' screen on first boot where you enter the server IP using the Roku remote (tedious but standard). For v1, hardcode the IP in a constants file (roku/source/constants.brs) with SERVER_URL = 'http://192.168.X.X:8888'. Add a comment noting this must be updated if the laptop's IP changes. For v2, consider mDNS/Bonjour discovery or a DHCP reservation for the laptop.","status":"done","priority":3,"issue_type":"task","owner":"joseph.bath@live.com","created_at":"2026-02-17T15:26:06.569787-08:00","created_by":"Joseph Bath","updated_at":"2026-02-17T15:45:56.244878-08:00","dependencies":[{"issue_id":"jbtv-40","depends_on_id":"jbtv-21","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"jbtv-41","title":"End-to-end integration testing","description":"Final integration ticket. Test the complete flow: (1) Start the backend server with real config.json (all API keys configured). Verify /api/dashboard returns valid JSON with all 10 modules populated. (2) Package the Roku channel and sideload it. (3) Verify the channel launches, displays the loading state, then populates all cards within ~5 seconds. (4) Verify clock updates in real-time (second by second). (5) Verify background changes with time of day. (6) Verify news rotation cycles. (7) Verify Spotify shows now-playing when music is active. (8) Check readability from 6+ feet away — font sizes adequate? (9) Let it run for 1 hour — no crashes, no memory leaks, data keeps refreshing. (10) Test error resilience: kill the server and verify the Roku shows error states gracefully, then recovers when server comes back. Document any issues found as new tickets.","status":"done","priority":1,"issue_type":"task","owner":"joseph.bath@live.com","created_at":"2026-02-17T15:26:06.659325-08:00","created_by":"Joseph Bath","updated_at":"2026-02-17T15:45:56.316497-08:00","dependencies":[{"issue_id":"jbtv-41","depends_on_id":"jbtv-7","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"jbtv-41","depends_on_id":"jbtv-35","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"jbtv-41","depends_on_id":"jbtv-37","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"jbtv-41","depends_on_id":"jbtv-38","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"jbtv-5","title":"Create in-memory cache utility with TTL","description":"Build server/utils/cache.js — a simple in-memory cache with per-key TTL. Interface: cache.get(key), cache.set(key, value, ttlMs), cache.has(key), cache.clear(). Each entry stores { value, expiresAt }. get() returns null if expired. This is used by every service to avoid hammering external APIs. Suggested TTLs: weather 10min, calendar 2min, news 15min, sports 5min, stocks 5min, photos 30min, spotify 30sec.","status":"done","priority":1,"issue_type":"task","assignee":"Joseph Bath","owner":"joseph.bath@live.com","created_at":"2026-02-17T15:22:46.896435-08:00","created_by":"Joseph Bath","updated_at":"2026-02-17T15:38:11.681363-08:00"}
{"id":"jbtv-6","title":"Build Express server skeleton with health check and CORS","description":"Create server/index.js — Express server entry point. Load config, set up CORS (allow all origins since this is local network only), add JSON body parsing middleware, mount /api/dashboard route, add /health endpoint that returns { status: ok, uptime }, add global error handler middleware that catches and logs errors without crashing. Listen on config.server.port (default 8888). Log startup message with the URL.","status":"done","priority":0,"issue_type":"task","assignee":"Joseph Bath","owner":"joseph.bath@live.com","created_at":"2026-02-17T15:22:46.977176-08:00","created_by":"Joseph Bath","updated_at":"2026-02-17T15:38:11.754858-08:00"}
{"id":"jbtv-7","title":"Build dashboard route aggregator","description":"Create server/routes/dashboard.js — the GET /api/dashboard endpoint. This is the single endpoint the Roku channel calls. It imports all services, calls them in parallel (Promise.allSettled), and assembles the unified JSON response. If any individual service fails, that section returns a graceful fallback (e.g., empty array, null, or an error flag) rather than failing the whole response. Include a 'fetchedAt' ISO timestamp in the response. Log which services succeeded/failed on each call.","status":"done","priority":1,"issue_type":"task","owner":"joseph.bath@live.com","created_at":"2026-02-17T15:23:03.972462-08:00","created_by":"Joseph Bath","updated_at":"2026-02-17T15:38:13.922953-08:00","dependencies":[{"issue_id":"jbtv-7","depends_on_id":"jbtv-6","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"jbtv-7","depends_on_id":"jbtv-4","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"jbtv-7","depends_on_id":"jbtv-5","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"jbtv-7","depends_on_id":"jbtv-8","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"jbtv-7","depends_on_id":"jbtv-9","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"jbtv-7","depends_on_id":"jbtv-11","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"jbtv-7","depends_on_id":"jbtv-12","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"jbtv-7","depends_on_id":"jbtv-13","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"jbtv-7","depends_on_id":"jbtv-14","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"jbtv-7","depends_on_id":"jbtv-15","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"jbtv-7","depends_on_id":"jbtv-16","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"jbtv-7","depends_on_id":"jbtv-17","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"jbtv-7","depends_on_id":"jbtv-18","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"jbtv-8","title":"Build clock and greeting service","description":"Create server/services/clock.js. Pure logic, no external API. Returns { greeting, period, date, time }. Greeting is 'Good morning/afternoon/evening, {name}' based on hour (5-11 morning, 12-16 afternoon, 17-20 evening, 21-4 night). Date formatted as 'Monday, February 17, 2026'. Time as '8:42 AM'. Uses config.user.name.","status":"done","priority":2,"issue_type":"task","owner":"joseph.bath@live.com","created_at":"2026-02-17T15:23:04.050375-08:00","created_by":"Joseph Bath","updated_at":"2026-02-17T15:38:11.823061-08:00","dependencies":[{"issue_id":"jbtv-8","depends_on_id":"jbtv-4","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"jbtv-9","title":"Build weather service","description":"Create server/services/weather.js. Calls OpenWeatherMap API: (1) Current weather via /weather endpoint — extract temp, feelsLike, description, icon code, humidity, wind speed. (2) 5-day forecast via /forecast endpoint — extract daily high/low/icon/description for next 5 days. (3) Sunrise/sunset times formatted as '6:42 AM'. Use config.weather.apiKey, lat, lon, units. Cache for 10 minutes. Handle API errors gracefully (return cached data if available, null if not). Map OWM icon codes to a consistent set for the Roku to display.","status":"done","priority":1,"issue_type":"task","owner":"joseph.bath@live.com","created_at":"2026-02-17T15:23:04.129818-08:00","created_by":"Joseph Bath","updated_at":"2026-02-17T15:38:11.898375-08:00","dependencies":[{"issue_id":"jbtv-9","depends_on_id":"jbtv-5","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"jbtv-9","depends_on_id":"jbtv-4","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
